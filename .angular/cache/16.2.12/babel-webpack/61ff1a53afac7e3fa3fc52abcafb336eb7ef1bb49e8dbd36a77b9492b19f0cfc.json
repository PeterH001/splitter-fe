{"ast":null,"code":"import { catchError, debounceTime, distinctUntilChanged, of, switchMap, tap } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/user.service\";\nclass FindUserTypeaheadComponent {\n  constructor(userService) {\n    this.userService = userService;\n    this.searching = false;\n    this.searchFailed = false;\n    this.search = text$ => text$.pipe(debounceTime(300), distinctUntilChanged(), tap(() => this.searching = true), switchMap(term => this.userService.searchUser(term).pipe(tap(() => this.searchFailed = false), catchError(() => {\n      this.searchFailed = true;\n      return of([]);\n    }))), tap(() => this.searching = false));\n  }\n  static #_ = this.ɵfac = function FindUserTypeaheadComponent_Factory(t) {\n    return new (t || FindUserTypeaheadComponent)(i0.ɵɵdirectiveInject(i1.UserService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: FindUserTypeaheadComponent,\n    selectors: [[\"app-find-user-typeahead\"]],\n    decls: 2,\n    vars: 0,\n    template: function FindUserTypeaheadComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"p\");\n        i0.ɵɵtext(1, \"find-user-typeahead works!\");\n        i0.ɵɵelementEnd();\n      }\n    },\n    styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}\nexport { FindUserTypeaheadComponent };","map":{"version":3,"names":["catchError","debounceTime","distinctUntilChanged","of","switchMap","tap","FindUserTypeaheadComponent","constructor","userService","searching","searchFailed","search","text$","pipe","term","searchUser","_","i0","ɵɵdirectiveInject","i1","UserService","_2","selectors","decls","vars","template","FindUserTypeaheadComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd"],"sources":["C:\\Users\\Peti\\nest_projects\\splitwise\\frontend\\splitter-fe\\src\\app\\user\\find-user-typeahead\\find-user-typeahead.component.ts","C:\\Users\\Peti\\nest_projects\\splitwise\\frontend\\splitter-fe\\src\\app\\user\\find-user-typeahead\\find-user-typeahead.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport {\n  Observable,\n  OperatorFunction,\n  catchError,\n  debounceTime,\n  distinctUntilChanged,\n  map,\n  of,\n  switchMap,\n  tap,\n} from 'rxjs';\nimport { UserService } from 'src/app/services/user.service';\n\n@Component({\n  selector: 'app-find-user-typeahead',\n  templateUrl: './find-user-typeahead.component.html',\n  styleUrls: ['./find-user-typeahead.component.css'],\n})\nexport class FindUserTypeaheadComponent {\n  model: any;\n  searching = false;\n  searchFailed = false;\n  constructor(private userService: UserService) {}\n\n  search: OperatorFunction<string, readonly any[]> = (text$: Observable<string>) =>\n  text$.pipe(\n    debounceTime(300),\n    distinctUntilChanged(),\n    tap(() => (this.searching = true)),\n    switchMap((term: string) =>\n      this.userService.searchUser(term).pipe(\n        tap(() => (this.searchFailed = false)),\n        catchError(() => {\n          this.searchFailed = true;\n          return of([]);\n        }),\n      ),\n    ),\n    tap(() => (this.searching = false)),\n  );\n}\n","<p>find-user-typeahead works!</p>\n"],"mappings":"AACA,SAGEA,UAAU,EACVC,YAAY,EACZC,oBAAoB,EAEpBC,EAAE,EACFC,SAAS,EACTC,GAAG,QACE,MAAM;;;AAGb,MAKaC,0BAA0B;EAIrCC,YAAoBC,WAAwB;IAAxB,KAAAA,WAAW,GAAXA,WAAW;IAF/B,KAAAC,SAAS,GAAG,KAAK;IACjB,KAAAC,YAAY,GAAG,KAAK;IAGpB,KAAAC,MAAM,GAA8CC,KAAyB,IAC7EA,KAAK,CAACC,IAAI,CACRZ,YAAY,CAAC,GAAG,CAAC,EACjBC,oBAAoB,EAAE,EACtBG,GAAG,CAAC,MAAO,IAAI,CAACI,SAAS,GAAG,IAAK,CAAC,EAClCL,SAAS,CAAEU,IAAY,IACrB,IAAI,CAACN,WAAW,CAACO,UAAU,CAACD,IAAI,CAAC,CAACD,IAAI,CACpCR,GAAG,CAAC,MAAO,IAAI,CAACK,YAAY,GAAG,KAAM,CAAC,EACtCV,UAAU,CAAC,MAAK;MACd,IAAI,CAACU,YAAY,GAAG,IAAI;MACxB,OAAOP,EAAE,CAAC,EAAE,CAAC;IACf,CAAC,CAAC,CACH,CACF,EACDE,GAAG,CAAC,MAAO,IAAI,CAACI,SAAS,GAAG,KAAM,CAAC,CACpC;EAjB8C;EAAC,QAAAO,CAAA,G;qBAJrCV,0BAA0B,EAAAW,EAAA,CAAAC,iBAAA,CAAAC,EAAA,CAAAC,WAAA;EAAA;EAAA,QAAAC,EAAA,G;UAA1Bf,0BAA0B;IAAAgB,SAAA;IAAAC,KAAA;IAAAC,IAAA;IAAAC,QAAA,WAAAC,oCAAAC,EAAA,EAAAC,GAAA;MAAA,IAAAD,EAAA;QCnBvCV,EAAA,CAAAY,cAAA,QAAG;QAAAZ,EAAA,CAAAa,MAAA,iCAA0B;QAAAb,EAAA,CAAAc,YAAA,EAAI;;;;;;SDmBpBzB,0BAA0B"},"metadata":{},"sourceType":"module","externalDependencies":[]}