{"ast":null,"code":"import { FormControl, FormGroup, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"src/app/services/group.service\";\nimport * as i4 from \"src/app/services/user.service\";\nimport * as i5 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i6 from \"@angular/forms\";\nfunction EditGroupComponent_div_18_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Name is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EditGroupComponent_div_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 24);\n    i0.ɵɵtemplate(1, EditGroupComponent_div_18_div_1_Template, 2, 0, \"div\", 17);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.groupName == null ? null : ctx_r0.groupName.errors == null ? null : ctx_r0.groupName.errors[\"required\"]);\n  }\n}\nfunction EditGroupComponent_ng_container_24_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"li\", 25)(2, \"p\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"button\", 26);\n    i0.ɵɵlistener(\"click\", function EditGroupComponent_ng_container_24_Template_button_click_4_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r11 = i0.ɵɵnextContext();\n      const _r5 = i0.ɵɵreference(39);\n      return i0.ɵɵresetView(ctx_r11.open(_r5));\n    });\n    i0.ɵɵtext(5, \"Remove\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const member_r10 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(member_r10.username);\n  }\n}\nconst _c0 = function (a0) {\n  return {\n    active: a0\n  };\n};\nfunction EditGroupComponent_ng_container_27_ng_container_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r17 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"input\", 31);\n    i0.ɵɵelementStart(2, \"label\", 32)(3, \"button\", 33);\n    i0.ɵɵlistener(\"click\", function EditGroupComponent_ng_container_27_ng_container_7_Template_button_click_3_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r17);\n      const user_r15 = restoredCtx.$implicit;\n      const ctx_r16 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r16.toggleSelection(user_r15.id));\n    });\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const user_r15 = ctx.$implicit;\n    const ctx_r14 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"id\", \"checkbox\", user_r15.id, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"for\", \"checkbox\", user_r15.id, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(4, _c0, ctx_r14.isChecked(user_r15.id)));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", user_r15.username, \" \");\n  }\n}\nfunction EditGroupComponent_ng_container_27_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r19 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\")(2, \"button\", 27);\n    i0.ɵɵlistener(\"click\", function EditGroupComponent_ng_container_27_Template_button_click_2_listener() {\n      i0.ɵɵrestoreView(_r19);\n      const ctx_r18 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r18.isCollapsed = !ctx_r18.isCollapsed);\n    });\n    i0.ɵɵtext(3, \" Add users \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"div\", 28, 29);\n    i0.ɵɵlistener(\"ngbCollapseChange\", function EditGroupComponent_ng_container_27_Template_div_ngbCollapseChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r19);\n      const ctx_r20 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r20.isCollapsed = $event);\n    });\n    i0.ɵɵelementStart(6, \"ul\", 30);\n    i0.ɵɵtemplate(7, EditGroupComponent_ng_container_27_ng_container_7_Template, 5, 6, \"ng-container\", 16);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵattribute(\"aria-expanded\", !ctx_r2.isCollapsed);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngbCollapse\", ctx_r2.isCollapsed);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.users);\n  }\n}\nfunction EditGroupComponent_ng_template_36_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r23 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 34)(1, \"h4\", 35);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 36);\n    i0.ɵɵlistener(\"click\", function EditGroupComponent_ng_template_36_Template_button_click_3_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r23);\n      const modal_r21 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(modal_r21.dismiss(\"Cross click\"));\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"div\", 37);\n    i0.ɵɵtext(5, \" If you delete the group, all the expenses in it will be deleted as well. You can not redo this. \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 38)(7, \"button\", 39);\n    i0.ɵɵlistener(\"click\", function EditGroupComponent_ng_template_36_Template_button_click_7_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r23);\n      const modal_r21 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(modal_r21.close());\n    });\n    i0.ɵɵtext(8, \" Close \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"button\", 40);\n    i0.ɵɵlistener(\"click\", function EditGroupComponent_ng_template_36_Template_button_click_9_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r23);\n      const modal_r21 = restoredCtx.$implicit;\n      const ctx_r25 = i0.ɵɵnextContext();\n      modal_r21.close(\"Save click\");\n      return i0.ɵɵresetView(ctx_r25.deleteGroup());\n    });\n    i0.ɵɵtext(10, \" Delete \");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" Delete group \", ctx_r4.groupDetails.name, \"? \");\n  }\n}\nfunction EditGroupComponent_ng_template_38_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r28 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 34)(1, \"h4\", 35);\n    i0.ɵɵtext(2, \" Remove user \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 36);\n    i0.ɵɵlistener(\"click\", function EditGroupComponent_ng_template_38_Template_button_click_3_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r28);\n      const modal_r26 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(modal_r26.dismiss(\"Cross click\"));\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"div\", 37);\n    i0.ɵɵtext(5, \" You can not delete this user, because they have expenses in the group. \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 38)(7, \"button\", 39);\n    i0.ɵɵlistener(\"click\", function EditGroupComponent_ng_template_38_Template_button_click_7_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r28);\n      const modal_r26 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(modal_r26.close());\n    });\n    i0.ɵɵtext(8, \" Close \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"button\", 41);\n    i0.ɵɵlistener(\"click\", function EditGroupComponent_ng_template_38_Template_button_click_9_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r28);\n      const modal_r26 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(modal_r26.close(\"Save click\"));\n    });\n    i0.ɵɵtext(10, \" Delete \");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction EditGroupComponent_ng_template_40_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r33 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 34)(1, \"h4\", 35);\n    i0.ɵɵtext(2, \" Leave group \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 36);\n    i0.ɵɵlistener(\"click\", function EditGroupComponent_ng_template_40_Template_button_click_3_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r33);\n      const modal_r31 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(modal_r31.dismiss(\"Cross click\"));\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"div\", 37);\n    i0.ɵɵtext(5, \" You can not leave this group, you have to settle up before. \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 38);\n    i0.ɵɵelement(7, \"div\", 19);\n    i0.ɵɵelementStart(8, \"button\", 39);\n    i0.ɵɵlistener(\"click\", function EditGroupComponent_ng_template_40_Template_button_click_8_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r33);\n      const modal_r31 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(modal_r31.close());\n    });\n    i0.ɵɵtext(9, \" Close \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"button\", 41);\n    i0.ɵɵlistener(\"click\", function EditGroupComponent_ng_template_40_Template_button_click_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r33);\n      const modal_r31 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(modal_r31.close(\"Save click\"));\n    });\n    i0.ɵɵtext(11, \" Leave \");\n    i0.ɵɵelementEnd()();\n  }\n}\nclass EditGroupComponent {\n  constructor(location, route, router, groupService, userService, modalService) {\n    this.location = location;\n    this.route = route;\n    this.router = router;\n    this.groupService = groupService;\n    this.userService = userService;\n    this.modalService = modalService;\n    this.isCollapsed = true;\n    this.editGroupForm = new FormGroup({\n      groupName: new FormControl('', Validators.required),\n      userIds: new FormControl([])\n    });\n    this.selectedUsers = [];\n  }\n  ngOnInit() {\n    this.id = +this.route.snapshot.paramMap.get('id');\n    console.log('id: ', this.id);\n    this.groupService.getGroupById(this.id).subscribe(response => {\n      this.groupDetails = response;\n      console.log(this.groupDetails.name);\n      this.editGroupForm.get('groupName')?.setValue(this.groupDetails.name);\n      const userIds = this.groupDetails.members.map(member => member.id);\n      this.editGroupForm.get('userIds')?.setValue(userIds);\n      console.log(this.editGroupForm.get('userIds')?.value);\n      this.userService.getUsers().subscribe(response => {\n        this.users = response;\n        console.log(this.users);\n        this.users = this.users.filter(user => !this.groupDetails.members.some(member => member.id === user.id));\n        console.log(this.users);\n      });\n    });\n  }\n  toggleSelection(userId) {\n    if (this.selectedUsers.includes(userId)) {\n      this.selectedUsers = this.selectedUsers.filter(item => item !== userId);\n    } else {\n      this.selectedUsers.push(userId);\n    }\n    this.editGroupForm.get('userIds')?.setValue(this.selectedUsers);\n    console.log('selectedUsers: ', this.selectedUsers);\n  }\n  open(content) {\n    this.modalService.open(content, {\n      ariaLabelledBy: 'modal-basic-title',\n      centered: true\n    });\n  }\n  isChecked(id) {\n    return this.selectedUsers.find(userId => userId === id) ? true : false;\n  }\n  submitForm() {\n    console.log(this.editGroupForm.value);\n    this.groupService.updateGroupById(this.groupDetails.id, this.editGroupForm.value).subscribe(() => {\n      this.router.navigate(['/groups']);\n    });\n  }\n  deleteGroup() {\n    this.groupService.deleteGroupById(this.groupDetails.id).subscribe(() => {\n      this.router.navigate(['/groups']);\n    });\n  }\n  goBack() {\n    this.location.back();\n  }\n  get groupName() {\n    return this.editGroupForm.get('groupName');\n  }\n  static #_ = this.ɵfac = function EditGroupComponent_Factory(t) {\n    return new (t || EditGroupComponent)(i0.ɵɵdirectiveInject(i1.Location), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.GroupService), i0.ɵɵdirectiveInject(i4.UserService), i0.ɵɵdirectiveInject(i5.NgbModal));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: EditGroupComponent,\n    selectors: [[\"app-edit-group\"]],\n    decls: 42,\n    vars: 5,\n    consts: [[1, \"row\", \"mb-4\", \"mt-2\"], [1, \"col-auto\"], [\"type\", \"button\", \"title\", \"Back\", 1, \"btn\", \"btn-primary\", \"rounded-circle\", 3, \"click\"], [1, \"bi\", \"bi-arrow-left\", 2, \"font-size\", \"1.5rem\", \"color\", \"white\"], [1, \"col\"], [1, \"text-center\"], [1, \"row\"], [1, \"col-md-5\"], [1, \"row\", \"mb-2\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"form-group\"], [\"for\", \"groupName\"], [\"type\", \"text\", \"id\", \"groupName\", \"name\", \"groupName\", \"formControlName\", \"groupName\", \"required\", \"\", 1, \"form-control\"], [\"class\", \"alert alert-danger\", 4, \"ngIf\"], [\"for\", \"memberList\"], [\"id\", \"memberList\", 1, \"list-group\"], [4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"disabled\"], [1, \"btn-group\"], [\"type\", \"button\", \"data-bs-toggle\", \"modal\", 1, \"btn\", \"btn-danger\", 3, \"click\"], [\"content\", \"\"], [\"removeUserContent\", \"\"], [\"leaveGroupContent\", \"\"], [1, \"alert\", \"alert-danger\"], [1, \"list-group-item\", \"d-flex\", \"justify-content-between\"], [\"type\", \"button\", 1, \"btn\", \"btn-sm\", \"btn-danger\", 3, \"click\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", \"mb-2\", 3, \"click\"], [3, \"ngbCollapse\", \"ngbCollapseChange\"], [\"collapse\", \"ngbCollapse\"], [1, \"list-group\"], [\"type\", \"checkbox\", \"autocomplete\", \"off\", 1, \"btn-check\", 3, \"id\"], [1, \"form-check-label\", 3, \"for\"], [\"type\", \"button\", 1, \"list-group-item\", \"list-group-item-action\", 3, \"ngClass\", \"click\"], [1, \"modal-header\"], [\"id\", \"modal-basic-title\", 1, \"modal-title\"], [\"type\", \"button\", \"aria-label\", \"Close\", 1, \"btn-close\", 3, \"click\"], [1, \"modal-body\"], [1, \"modal-footer\"], [\"type\", \"button\", 1, \"btn\", \"btn-outline-dark\", 3, \"click\"], [\"type\", \"button\", 1, \"btn\", \"btn-danger\", 3, \"click\"], [\"type\", \"button\", \"disabled\", \"\", 1, \"btn\", \"btn-danger\", 3, \"click\"]],\n    template: function EditGroupComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r36 = i0.ɵɵgetCurrentView();\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"button\", 2);\n        i0.ɵɵlistener(\"click\", function EditGroupComponent_Template_button_click_2_listener() {\n          return ctx.goBack();\n        });\n        i0.ɵɵelement(3, \"i\", 3);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(4, \"div\", 4)(5, \"h1\", 5);\n        i0.ɵɵtext(6, \"Edit group\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(7, \"div\", 6);\n        i0.ɵɵelement(8, \"div\", 4);\n        i0.ɵɵelementStart(9, \"div\", 7)(10, \"div\", 8)(11, \"form\", 9);\n        i0.ɵɵlistener(\"ngSubmit\", function EditGroupComponent_Template_form_ngSubmit_11_listener() {\n          return ctx.submitForm();\n        });\n        i0.ɵɵelementStart(12, \"div\", 8)(13, \"div\", 4)(14, \"div\", 10)(15, \"label\", 11);\n        i0.ɵɵtext(16, \"Group name\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(17, \"input\", 12);\n        i0.ɵɵtemplate(18, EditGroupComponent_div_18_Template, 2, 1, \"div\", 13);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(19, \"div\", 8)(20, \"div\", 4)(21, \"label\", 14);\n        i0.ɵɵtext(22, \"Members\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(23, \"ul\", 15);\n        i0.ɵɵtemplate(24, EditGroupComponent_ng_container_24_Template, 6, 1, \"ng-container\", 16);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(25, \"div\", 8)(26, \"div\", 4);\n        i0.ɵɵtemplate(27, EditGroupComponent_ng_container_27_Template, 8, 3, \"ng-container\", 17);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(28, \"button\", 18);\n        i0.ɵɵtext(29, \" Save \");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelement(30, \"div\", 19);\n        i0.ɵɵelementStart(31, \"button\", 20);\n        i0.ɵɵlistener(\"click\", function EditGroupComponent_Template_button_click_31_listener() {\n          i0.ɵɵrestoreView(_r36);\n          const _r3 = i0.ɵɵreference(37);\n          return i0.ɵɵresetView(ctx.open(_r3));\n        });\n        i0.ɵɵtext(32, \" Delete group \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(33, \"button\", 20);\n        i0.ɵɵlistener(\"click\", function EditGroupComponent_Template_button_click_33_listener() {\n          i0.ɵɵrestoreView(_r36);\n          const _r7 = i0.ɵɵreference(41);\n          return i0.ɵɵresetView(ctx.open(_r7));\n        });\n        i0.ɵɵtext(34, \" Leave group \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(35, \"div\", 4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(36, EditGroupComponent_ng_template_36_Template, 11, 1, \"ng-template\", null, 21, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵtemplate(38, EditGroupComponent_ng_template_38_Template, 11, 0, \"ng-template\", null, 22, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵtemplate(40, EditGroupComponent_ng_template_40_Template, 12, 0, \"ng-template\", null, 23, i0.ɵɵtemplateRefExtractor);\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(11);\n        i0.ɵɵproperty(\"formGroup\", ctx.editGroupForm);\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngIf\", (ctx.groupName == null ? null : ctx.groupName.invalid) && ((ctx.groupName == null ? null : ctx.groupName.dirty) || (ctx.groupName == null ? null : ctx.groupName.touched)));\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngForOf\", ctx.groupDetails.members);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", true);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"disabled\", !ctx.editGroupForm.valid);\n      }\n    },\n    dependencies: [i1.NgClass, i1.NgForOf, i1.NgIf, i6.ɵNgNoValidate, i6.DefaultValueAccessor, i6.NgControlStatus, i6.NgControlStatusGroup, i6.RequiredValidator, i6.FormGroupDirective, i6.FormControlName, i5.NgbCollapse],\n    styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}\nexport { EditGroupComponent };","map":{"version":3,"names":["FormControl","FormGroup","Validators","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵtemplate","EditGroupComponent_div_18_div_1_Template","ɵɵadvance","ɵɵproperty","ctx_r0","groupName","errors","ɵɵelementContainerStart","ɵɵlistener","EditGroupComponent_ng_container_24_Template_button_click_4_listener","ɵɵrestoreView","_r12","ctx_r11","ɵɵnextContext","_r5","ɵɵreference","ɵɵresetView","open","ɵɵelementContainerEnd","ɵɵtextInterpolate","member_r10","username","ɵɵelement","EditGroupComponent_ng_container_27_ng_container_7_Template_button_click_3_listener","restoredCtx","_r17","user_r15","$implicit","ctx_r16","toggleSelection","id","ɵɵpropertyInterpolate1","ɵɵpureFunction1","_c0","ctx_r14","isChecked","ɵɵtextInterpolate1","EditGroupComponent_ng_container_27_Template_button_click_2_listener","_r19","ctx_r18","isCollapsed","EditGroupComponent_ng_container_27_Template_div_ngbCollapseChange_4_listener","$event","ctx_r20","EditGroupComponent_ng_container_27_ng_container_7_Template","ɵɵattribute","ctx_r2","users","EditGroupComponent_ng_template_36_Template_button_click_3_listener","_r23","modal_r21","dismiss","EditGroupComponent_ng_template_36_Template_button_click_7_listener","close","EditGroupComponent_ng_template_36_Template_button_click_9_listener","ctx_r25","deleteGroup","ctx_r4","groupDetails","name","EditGroupComponent_ng_template_38_Template_button_click_3_listener","_r28","modal_r26","EditGroupComponent_ng_template_38_Template_button_click_7_listener","EditGroupComponent_ng_template_38_Template_button_click_9_listener","EditGroupComponent_ng_template_40_Template_button_click_3_listener","_r33","modal_r31","EditGroupComponent_ng_template_40_Template_button_click_8_listener","EditGroupComponent_ng_template_40_Template_button_click_10_listener","EditGroupComponent","constructor","location","route","router","groupService","userService","modalService","editGroupForm","required","userIds","selectedUsers","ngOnInit","snapshot","paramMap","get","console","log","getGroupById","subscribe","response","setValue","members","map","member","value","getUsers","filter","user","some","userId","includes","item","push","content","ariaLabelledBy","centered","find","submitForm","updateGroupById","navigate","deleteGroupById","goBack","back","_","ɵɵdirectiveInject","i1","Location","i2","ActivatedRoute","Router","i3","GroupService","i4","UserService","i5","NgbModal","_2","selectors","decls","vars","consts","template","EditGroupComponent_Template","rf","ctx","EditGroupComponent_Template_button_click_2_listener","EditGroupComponent_Template_form_ngSubmit_11_listener","EditGroupComponent_div_18_Template","EditGroupComponent_ng_container_24_Template","EditGroupComponent_ng_container_27_Template","EditGroupComponent_Template_button_click_31_listener","_r36","_r3","EditGroupComponent_Template_button_click_33_listener","_r7","EditGroupComponent_ng_template_36_Template","ɵɵtemplateRefExtractor","EditGroupComponent_ng_template_38_Template","EditGroupComponent_ng_template_40_Template","invalid","dirty","touched","valid"],"sources":["C:\\Users\\Peti\\nest_projects\\splitwise\\frontend\\splitter-fe\\src\\app\\group\\edit-group\\edit-group.component.ts","C:\\Users\\Peti\\nest_projects\\splitwise\\frontend\\splitter-fe\\src\\app\\group\\edit-group\\edit-group.component.html"],"sourcesContent":["import { Location } from '@angular/common';\nimport {\n  AfterContentInit,\n  AfterViewInit,\n  Component,\n  OnInit,\n  TemplateRef,\n} from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { ActivatedRoute, Route, Router } from '@angular/router';\nimport { GroupService } from 'src/app/services/group.service';\nimport { GroupDTO } from '../dto/group.dto';\nimport { UserService } from 'src/app/services/user.service';\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\n\n@Component({\n  selector: 'app-edit-group',\n  templateUrl: './edit-group.component.html',\n  styleUrls: ['./edit-group.component.css'],\n})\nexport class EditGroupComponent implements OnInit {\n  id!: number;\n  isCollapsed = true;\n  groupDetails!: GroupDTO;\n  editGroupForm = new FormGroup({\n    groupName: new FormControl('', Validators.required),\n    userIds: new FormControl<number[]>([]),\n  });\n  users!: { id: number; username: string }[];\n  selectedUsers: number[] = [];\n  constructor(\n    private location: Location,\n    private route: ActivatedRoute,\n    private router: Router,\n    private groupService: GroupService,\n    private userService: UserService,\n    private modalService: NgbModal\n  ) {}\n\n  ngOnInit(): void {\n    this.id = +this.route.snapshot.paramMap.get('id')!;\n    console.log('id: ', this.id);\n    this.groupService.getGroupById(this.id).subscribe((response) => {\n      this.groupDetails = response;\n      console.log(this.groupDetails.name);\n      this.editGroupForm.get('groupName')?.setValue(this.groupDetails.name);\n      const userIds = this.groupDetails.members.map((member) => member.id);\n      this.editGroupForm.get('userIds')?.setValue(userIds);\n      console.log(this.editGroupForm.get('userIds')?.value);\n      this.userService.getUsers().subscribe((response) => {\n        this.users = response;\n        console.log(this.users);\n        this.users = this.users.filter(\n          (user) =>\n            !this.groupDetails.members.some((member) => member.id === user.id)\n        );\n        console.log(this.users);\n      });\n    });\n  }\n\n  toggleSelection(userId: number) {\n    if (this.selectedUsers.includes(userId)) {\n      this.selectedUsers = this.selectedUsers.filter((item) => item !== userId);\n    } else {\n      this.selectedUsers.push(userId);\n    }\n    this.editGroupForm.get('userIds')?.setValue(this.selectedUsers);\n    console.log('selectedUsers: ', this.selectedUsers);\n  }\n\n  open(content: TemplateRef<any>) {\n    this.modalService\n      .open(content, { ariaLabelledBy: 'modal-basic-title', centered: true });\n  }\n\n  isChecked(id: number) {\n    return this.selectedUsers.find((userId) => userId === id) ? true : false;\n  }\n  submitForm() {\n    console.log(this.editGroupForm.value);\n    this.groupService\n      .updateGroupById(this.groupDetails.id, this.editGroupForm.value)\n      .subscribe(() => {\n        this.router.navigate(['/groups']);\n      });\n  }\n\n  deleteGroup() {\n    this.groupService.deleteGroupById(this.groupDetails.id).subscribe(() => {\n      this.router.navigate(['/groups']);\n    });\n  }\n  goBack() {\n    this.location.back();\n  }\n  get groupName() {\n    return this.editGroupForm.get('groupName');\n  }\n}\n","<div class=\"row mb-4 mt-2\">\n  <div class=\"col-auto\">\n    <button\n      type=\"button\"\n      class=\"btn btn-primary rounded-circle\"\n      title=\"Back\"\n      (click)=\"goBack()\"\n    >\n      <i class=\"bi bi-arrow-left\" style=\"font-size: 1.5rem; color: white\"></i>\n    </button>\n  </div>\n  <div class=\"col\">\n    <h1 class=\"text-center\">Edit group</h1>\n  </div>\n</div>\n<div class=\"row\">\n  <div class=\"col\"></div>\n  <div class=\"col-md-5\">\n    <div class=\"row mb-2\">\n      <form [formGroup]=\"editGroupForm\" (ngSubmit)=\"submitForm()\">\n        <div class=\"row mb-2\">\n          <div class=\"col\">\n            <div class=\"form-group\">\n              <label for=\"groupName\">Group name</label>\n              <input\n                type=\"text\"\n                class=\"form-control\"\n                id=\"groupName\"\n                name=\"groupName\"\n                formControlName=\"groupName\"\n                required\n              />\n              <div\n                *ngIf=\"\n                  groupName?.invalid && (groupName?.dirty || groupName?.touched)\n                \"\n                class=\"alert alert-danger\"\n              >\n                <div *ngIf=\"groupName?.errors?.['required']\">\n                  Name is required.\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"row mb-2\">\n          <div class=\"col\">\n            <label for=\"memberList\">Members</label>\n            <ul class=\"list-group\" id=\"memberList\">\n              <ng-container *ngFor=\"let member of groupDetails.members\">\n                <li class=\"list-group-item d-flex justify-content-between\">\n                  <p>{{ member.username }}</p><button type=\"button\" class=\"btn btn-sm btn-danger\" (click)=\"open(removeUserContent)\">Remove</button>\n                </li>\n              </ng-container>\n            </ul>\n          </div>\n        </div>\n        <div class=\"row mb-2\">\n          <div class=\"col\">\n            <ng-container *ngIf=\"true\">\n              <!-- TODO: ng bootstrap accordionba tenni, így összecsukható a rengeteg user? -->\n              <div>\n                <button\n                  type=\"button\"\n                  class=\"btn btn-primary mb-2\"\n                  (click)=\"isCollapsed = !isCollapsed\"\n                  [attr.aria-expanded]=\"!isCollapsed\"\n                >\n                  Add users\n                </button>\n              </div>\n              <div #collapse=\"ngbCollapse\" [(ngbCollapse)]=\"isCollapsed\">\n                <ul class=\"list-group\">\n                  <ng-container *ngFor=\"let user of users\">\n                    <input\n                      type=\"checkbox\"\n                      class=\"btn-check\"\n                      id=\"checkbox{{ user.id }}\"\n                      autocomplete=\"off\"\n                    />\n                    <label class=\"form-check-label\" for=\"checkbox{{ user.id }}\">\n                      <button\n                        type=\"button\"\n                        class=\"list-group-item list-group-item-action\"\n                        [ngClass]=\"{ active: isChecked(user.id) }\"\n                        (click)=\"toggleSelection(user.id)\"\n                      >\n                        {{ user.username }}\n                      </button>\n                    </label>\n                  </ng-container>\n                </ul>\n              </div>\n            </ng-container>\n          </div>\n        </div>\n        <button\n          type=\"submit\"\n          class=\"btn btn-primary\"\n          [disabled]=\"!editGroupForm.valid\"\n        >\n          Save\n        </button>\n      </form>\n    </div>\n    <div class=\"btn-group\">\n      \n    </div>\n    <button\n      type=\"button\"\n      class=\"btn btn-danger\"\n      data-bs-toggle=\"modal\"\n      (click)=\"open(content)\"\n    >\n      Delete group\n    </button>\n    <button\n      type=\"button\"\n      class=\"btn btn-danger\"\n      data-bs-toggle=\"modal\"\n      (click)=\"open(leaveGroupContent)\"\n    >\n      Leave group\n    </button>\n  </div>\n  <div class=\"col\"></div>\n</div>\n<ng-template #content let-modal>\n  <div class=\"modal-header\">\n    <h4 class=\"modal-title\" id=\"modal-basic-title\">\n      Delete group {{ groupDetails.name }}?\n    </h4>\n    <button\n      type=\"button\"\n      class=\"btn-close\"\n      aria-label=\"Close\"\n      (click)=\"modal.dismiss('Cross click')\"\n    ></button>\n  </div>\n  <div class=\"modal-body\">\n    If you delete the group, all the expenses in it will be deleted as well. You\n    can not redo this.\n  </div>\n  <div class=\"modal-footer\">\n    <button type=\"button\" class=\"btn btn-outline-dark\" (click)=\"modal.close()\">\n      Close\n    </button>\n    <button\n      type=\"button\"\n      class=\"btn btn-danger\"\n      (click)=\"modal.close('Save click'); deleteGroup()\"\n    >\n      Delete\n    </button>\n  </div>\n</ng-template>\n<ng-template #removeUserContent let-modal>\n  <div class=\"modal-header\">\n    <h4 class=\"modal-title\" id=\"modal-basic-title\">\n      Remove user\n    </h4>\n    <button\n      type=\"button\"\n      class=\"btn-close\"\n      aria-label=\"Close\"\n      (click)=\"modal.dismiss('Cross click')\"\n    ></button>\n  </div>\n  <div class=\"modal-body\">\n    You can not delete this user, because they have expenses in the group.\n  </div>\n  <div class=\"modal-footer\">\n    <button type=\"button\" class=\"btn btn-outline-dark\" (click)=\"modal.close()\">\n      Close\n    </button>\n    <button\n      type=\"button\"\n      class=\"btn btn-danger\"\n      (click)=\"modal.close('Save click')\"\n      disabled\n    >\n      Delete\n    </button>\n  </div>\n</ng-template>\n<ng-template #leaveGroupContent let-modal>\n  <div class=\"modal-header\">\n    <h4 class=\"modal-title\" id=\"modal-basic-title\">\n      Leave group\n    </h4>\n    <button\n      type=\"button\"\n      class=\"btn-close\"\n      aria-label=\"Close\"\n      (click)=\"modal.dismiss('Cross click')\"\n    ></button>\n  </div>\n  <div class=\"modal-body\">\n    You can not leave this group, you have to settle up before.\n  </div>\n  <div class=\"modal-footer\">\n    <div class=\"btn-group\"></div>\n    <button type=\"button\" class=\"btn btn-outline-dark\" (click)=\"modal.close()\">\n      Close\n    </button>\n    <button\n      type=\"button\"\n      class=\"btn btn-danger\"\n      (click)=\"modal.close('Save click')\"\n      disabled\n    >\n      Leave\n    </button>\n  </div>\n</ng-template>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}