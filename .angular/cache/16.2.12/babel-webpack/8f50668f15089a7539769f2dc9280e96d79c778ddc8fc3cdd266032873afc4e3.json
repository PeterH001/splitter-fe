{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nlet CreateGroupComponent = class CreateGroupComponent {\n  constructor(location, userService, groupService, router, toastService) {\n    this.location = location;\n    this.userService = userService;\n    this.groupService = groupService;\n    this.router = router;\n    this.toastService = toastService;\n    this.createGroupForm = new FormGroup({\n      groupName: new FormControl('', Validators.required),\n      userIds: new FormControl([])\n    });\n    this.selectedUsers = [];\n    this.isCollapsed = true;\n  }\n  ngOnInit() {\n    this.userService.getUsers().subscribe(result => {\n      console.log('result: ', result);\n      this.users = result;\n    });\n  }\n  submitForm() {\n    console.log('Form data:', this.createGroupForm.value);\n    this.groupService.createGroup(this.createGroupForm.value).subscribe(() => {\n      this.router.navigate(['/groups']);\n    }, error => {});\n    // Add your form submission logic here\n  }\n\n  goBack() {\n    this.location.back();\n  }\n  toggleSelection(userId) {\n    if (this.selectedUsers.includes(userId)) {\n      this.selectedUsers = this.selectedUsers.filter(item => item !== userId);\n    } else {\n      this.selectedUsers.push(userId);\n    }\n    this.createGroupForm.get('userIds')?.setValue(this.selectedUsers);\n    console.log('this.selectedGroupMembers: ', this.selectedUsers);\n  }\n  get userIds() {\n    return this.createGroupForm.get('userIds');\n  }\n  get groupName() {\n    return this.createGroupForm.get('groupName');\n  }\n  ngOnDestroy() {\n    this.toastService.clear();\n  }\n};\nCreateGroupComponent = __decorate([Component({\n  selector: 'app-create-group',\n  templateUrl: './create-group.component.html',\n  styleUrls: ['./create-group.component.css']\n})], CreateGroupComponent);\nexport { CreateGroupComponent };","map":{"version":3,"names":["Component","FormControl","FormGroup","Validators","CreateGroupComponent","constructor","location","userService","groupService","router","toastService","createGroupForm","groupName","required","userIds","selectedUsers","isCollapsed","ngOnInit","getUsers","subscribe","result","console","log","users","submitForm","value","createGroup","navigate","error","goBack","back","toggleSelection","userId","includes","filter","item","push","get","setValue","ngOnDestroy","clear","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\Peti\\nest_projects\\splitwise\\frontend\\splitter-fe\\src\\app\\group\\create-group\\create-group.component.ts"],"sourcesContent":["import { Location } from '@angular/common';\nimport { Component, OnDestroy, OnInit, TemplateRef, ViewChild } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { GroupService } from 'src/app/services/group.service';\nimport { ToastService } from 'src/app/services/toast.service';\nimport { UserService } from 'src/app/services/user.service';\n\n@Component({\n  selector: 'app-create-group',\n  templateUrl: './create-group.component.html',\n  styleUrls: ['./create-group.component.css'],\n})\nexport class CreateGroupComponent implements OnInit, OnDestroy {\n  createGroupForm = new FormGroup({\n    groupName: new FormControl('', Validators.required),\n    userIds: new FormControl<number[]>([]),\n  });\n  users!: { id: number; username: string }[];\n  selectedUsers: number[] = [];\n  isCollapsed: boolean = true; \n  constructor(\n    private location: Location,\n    private userService: UserService,\n    private groupService: GroupService,\n    private router: Router,\n    private toastService: ToastService\n  ) {}\n\n  ngOnInit(): void {\n    this.userService.getUsers().subscribe((result) => {\n      console.log('result: ', result);\n      this.users = result;\n    });\n  }\n  submitForm(): void {\n    console.log('Form data:', this.createGroupForm.value);\n    this.groupService.createGroup(this.createGroupForm.value).subscribe(() => {\n      this.router.navigate(['/groups']);\n    },\n    (error)=>{\n    }\n    );\n    // Add your form submission logic here\n  }\n  goBack() {\n    this.location.back();\n  }\n\n  toggleSelection(userId: number) {\n    if (this.selectedUsers.includes(userId)) {\n      this.selectedUsers = this.selectedUsers.filter((item) => item !== userId);\n    } else {\n      this.selectedUsers.push(userId);\n    }\n    this.createGroupForm.get('userIds')?.setValue(this.selectedUsers);\n    console.log('this.selectedGroupMembers: ', this.selectedUsers);\n  }\n\n  get userIds() {\n    return this.createGroupForm.get('userIds');\n  }\n\n  get groupName() {\n    return this.createGroupForm.get('groupName');\n  }\n\n  ngOnDestroy(): void {\n    this.toastService.clear();\n  }\n}\n"],"mappings":";AACA,SAASA,SAAS,QAAmD,eAAe;AACpF,SAASC,WAAW,EAAEC,SAAS,EAAEC,UAAU,QAAQ,gBAAgB;AAWnE,IAAaC,oBAAoB,GAAjC,MAAaA,oBAAoB;EAQ/BC,YACUC,QAAkB,EAClBC,WAAwB,EACxBC,YAA0B,EAC1BC,MAAc,EACdC,YAA0B;IAJ1B,KAAAJ,QAAQ,GAARA,QAAQ;IACR,KAAAC,WAAW,GAAXA,WAAW;IACX,KAAAC,YAAY,GAAZA,YAAY;IACZ,KAAAC,MAAM,GAANA,MAAM;IACN,KAAAC,YAAY,GAAZA,YAAY;IAZtB,KAAAC,eAAe,GAAG,IAAIT,SAAS,CAAC;MAC9BU,SAAS,EAAE,IAAIX,WAAW,CAAC,EAAE,EAAEE,UAAU,CAACU,QAAQ,CAAC;MACnDC,OAAO,EAAE,IAAIb,WAAW,CAAW,EAAE;KACtC,CAAC;IAEF,KAAAc,aAAa,GAAa,EAAE;IAC5B,KAAAC,WAAW,GAAY,IAAI;EAOxB;EAEHC,QAAQA,CAAA;IACN,IAAI,CAACV,WAAW,CAACW,QAAQ,EAAE,CAACC,SAAS,CAAEC,MAAM,IAAI;MAC/CC,OAAO,CAACC,GAAG,CAAC,UAAU,EAAEF,MAAM,CAAC;MAC/B,IAAI,CAACG,KAAK,GAAGH,MAAM;IACrB,CAAC,CAAC;EACJ;EACAI,UAAUA,CAAA;IACRH,OAAO,CAACC,GAAG,CAAC,YAAY,EAAE,IAAI,CAACX,eAAe,CAACc,KAAK,CAAC;IACrD,IAAI,CAACjB,YAAY,CAACkB,WAAW,CAAC,IAAI,CAACf,eAAe,CAACc,KAAK,CAAC,CAACN,SAAS,CAAC,MAAK;MACvE,IAAI,CAACV,MAAM,CAACkB,QAAQ,CAAC,CAAC,SAAS,CAAC,CAAC;IACnC,CAAC,EACAC,KAAK,IAAG,CACT,CAAC,CACA;IACD;EACF;;EACAC,MAAMA,CAAA;IACJ,IAAI,CAACvB,QAAQ,CAACwB,IAAI,EAAE;EACtB;EAEAC,eAAeA,CAACC,MAAc;IAC5B,IAAI,IAAI,CAACjB,aAAa,CAACkB,QAAQ,CAACD,MAAM,CAAC,EAAE;MACvC,IAAI,CAACjB,aAAa,GAAG,IAAI,CAACA,aAAa,CAACmB,MAAM,CAAEC,IAAI,IAAKA,IAAI,KAAKH,MAAM,CAAC;KAC1E,MAAM;MACL,IAAI,CAACjB,aAAa,CAACqB,IAAI,CAACJ,MAAM,CAAC;;IAEjC,IAAI,CAACrB,eAAe,CAAC0B,GAAG,CAAC,SAAS,CAAC,EAAEC,QAAQ,CAAC,IAAI,CAACvB,aAAa,CAAC;IACjEM,OAAO,CAACC,GAAG,CAAC,6BAA6B,EAAE,IAAI,CAACP,aAAa,CAAC;EAChE;EAEA,IAAID,OAAOA,CAAA;IACT,OAAO,IAAI,CAACH,eAAe,CAAC0B,GAAG,CAAC,SAAS,CAAC;EAC5C;EAEA,IAAIzB,SAASA,CAAA;IACX,OAAO,IAAI,CAACD,eAAe,CAAC0B,GAAG,CAAC,WAAW,CAAC;EAC9C;EAEAE,WAAWA,CAAA;IACT,IAAI,CAAC7B,YAAY,CAAC8B,KAAK,EAAE;EAC3B;CACD;AAzDYpC,oBAAoB,GAAAqC,UAAA,EALhCzC,SAAS,CAAC;EACT0C,QAAQ,EAAE,kBAAkB;EAC5BC,WAAW,EAAE,+BAA+B;EAC5CC,SAAS,EAAE,CAAC,8BAA8B;CAC3C,CAAC,C,EACWxC,oBAAoB,CAyDhC;SAzDYA,oBAAoB"},"metadata":{},"sourceType":"module","externalDependencies":[]}