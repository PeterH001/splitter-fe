{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { distributionTypesEnumMappings } from '../enum';\nlet CreateExpenseComponent = class CreateExpenseComponent {\n  constructor(expenseService, groupService, location, route) {\n    this.expenseService = expenseService;\n    this.groupService = groupService;\n    this.location = location;\n    this.route = route;\n    this.formData = {\n      expenseName: '',\n      description: '',\n      distributionType: distributionTypesEnumMappings.equal\n    };\n    this.selectedGroupMembers = [];\n    this.distributionTypes = Object.values(distributionTypesEnumMappings);\n  }\n  ngOnInit() {\n    this.expenseService.getExpenseCategories().subscribe(result => {\n      this.categories = result;\n      console.log(this.categories);\n    });\n    const groupId = this.route.snapshot.paramMap.get('id');\n    this.groupId = parseInt(groupId);\n    console.log('Group ID:', this.groupId);\n    this.groupService.getGroupMembers(this.groupId).subscribe(result => {\n      this.groupMembers = result;\n    });\n    this.expenseService.getCurrencies().subscribe(result => {\n      this.currencies = result;\n    });\n    // this.expenseService.getExpenseDistributions().subscribe(result=>{\n    //   this.distributionTypes = result;\n    // })\n  }\n\n  toggleSelection(userId) {\n    if (this.selectedGroupMembers.includes(userId)) {\n      this.selectedGroupMembers = this.selectedGroupMembers.filter(item => item !== userId);\n    } else {\n      this.selectedGroupMembers.push(userId);\n    }\n    console.log(\"this.selectedGroupMembers: \", this.selectedGroupMembers);\n  }\n  goBack() {\n    this.location.back();\n  }\n  submitForm() {\n    console.log('Form data:', this.formData);\n    // Add your form submission logic here\n  }\n};\n\nCreateExpenseComponent = __decorate([Component({\n  selector: 'app-create-expense',\n  templateUrl: './create-expense.component.html',\n  styleUrls: ['./create-expense.component.css']\n})], CreateExpenseComponent);\nexport { CreateExpenseComponent };","map":{"version":3,"names":["Component","distributionTypesEnumMappings","CreateExpenseComponent","constructor","expenseService","groupService","location","route","formData","expenseName","description","distributionType","equal","selectedGroupMembers","distributionTypes","Object","values","ngOnInit","getExpenseCategories","subscribe","result","categories","console","log","groupId","snapshot","paramMap","get","parseInt","getGroupMembers","groupMembers","getCurrencies","currencies","toggleSelection","userId","includes","filter","item","push","goBack","back","submitForm","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\Peti\\nest_projects\\splitwise\\frontend\\splitter-fe\\src\\app\\expense\\create-expense\\create-expense.component.ts"],"sourcesContent":["import { Location } from '@angular/common';\nimport { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { ExpenseService } from 'src/app/services/expense.service';\nimport { GroupService } from 'src/app/services/group.service';\nimport { distributionTypesEnumMappings as distributionTypesEnumMappings } from '../enum';\n\n@Component({\n  selector: 'app-create-expense',\n  templateUrl: './create-expense.component.html',\n  styleUrls: ['./create-expense.component.css'],\n})\nexport class CreateExpenseComponent implements OnInit {\n  formData = {\n    expenseName: '',\n    description: '',\n    distributionType: distributionTypesEnumMappings.equal\n  };\n  groupMembers!: { id: number; username: string }[];\n  selectedGroupMembers: number[] = [];\n  groupId!: number;\n  categories!: string[];\n  distributionTypes: string[] = Object.values(distributionTypesEnumMappings);\n  currencies!: string[];\n  constructor(\n    private expenseService: ExpenseService,\n    private groupService: GroupService,\n    private location: Location,\n    private route: ActivatedRoute\n  ) {}\n  ngOnInit(): void {\n    this.expenseService.getExpenseCategories().subscribe((result) => {\n      this.categories = result;\n      console.log(this.categories);\n    });\n    const groupId = this.route.snapshot.paramMap.get('id');\n    this.groupId = parseInt(groupId!);\n    console.log('Group ID:', this.groupId);\n\n    this.groupService.getGroupMembers(this.groupId).subscribe((result) => {\n      this.groupMembers = result;\n    });\n\n    this.expenseService.getCurrencies().subscribe((result) => {\n      this.currencies = result;\n    });\n    // this.expenseService.getExpenseDistributions().subscribe(result=>{\n    //   this.distributionTypes = result;\n    // })\n  }\n\n  toggleSelection(userId: number) {\n    if (this.selectedGroupMembers.includes(userId)) {\n      this.selectedGroupMembers = this.selectedGroupMembers.filter(\n        (item) => item !== userId\n      );\n    } else {\n      this.selectedGroupMembers.push(userId);\n    }\n    console.log(\"this.selectedGroupMembers: \",this.selectedGroupMembers);\n    \n  }\n\n  goBack() {\n    this.location.back();\n  }\n\n  submitForm(): void {\n    console.log('Form data:', this.formData);\n    // Add your form submission logic here\n  }\n}\n"],"mappings":";AACA,SAASA,SAAS,QAAgB,eAAe;AAIjD,SAASC,6BAA8D,QAAQ,SAAS;AAOxF,IAAaC,sBAAsB,GAAnC,MAAaA,sBAAsB;EAYjCC,YACUC,cAA8B,EAC9BC,YAA0B,EAC1BC,QAAkB,EAClBC,KAAqB;IAHrB,KAAAH,cAAc,GAAdA,cAAc;IACd,KAAAC,YAAY,GAAZA,YAAY;IACZ,KAAAC,QAAQ,GAARA,QAAQ;IACR,KAAAC,KAAK,GAALA,KAAK;IAff,KAAAC,QAAQ,GAAG;MACTC,WAAW,EAAE,EAAE;MACfC,WAAW,EAAE,EAAE;MACfC,gBAAgB,EAAEV,6BAA6B,CAACW;KACjD;IAED,KAAAC,oBAAoB,GAAa,EAAE;IAGnC,KAAAC,iBAAiB,GAAaC,MAAM,CAACC,MAAM,CAACf,6BAA6B,CAAC;EAOvE;EACHgB,QAAQA,CAAA;IACN,IAAI,CAACb,cAAc,CAACc,oBAAoB,EAAE,CAACC,SAAS,CAAEC,MAAM,IAAI;MAC9D,IAAI,CAACC,UAAU,GAAGD,MAAM;MACxBE,OAAO,CAACC,GAAG,CAAC,IAAI,CAACF,UAAU,CAAC;IAC9B,CAAC,CAAC;IACF,MAAMG,OAAO,GAAG,IAAI,CAACjB,KAAK,CAACkB,QAAQ,CAACC,QAAQ,CAACC,GAAG,CAAC,IAAI,CAAC;IACtD,IAAI,CAACH,OAAO,GAAGI,QAAQ,CAACJ,OAAQ,CAAC;IACjCF,OAAO,CAACC,GAAG,CAAC,WAAW,EAAE,IAAI,CAACC,OAAO,CAAC;IAEtC,IAAI,CAACnB,YAAY,CAACwB,eAAe,CAAC,IAAI,CAACL,OAAO,CAAC,CAACL,SAAS,CAAEC,MAAM,IAAI;MACnE,IAAI,CAACU,YAAY,GAAGV,MAAM;IAC5B,CAAC,CAAC;IAEF,IAAI,CAAChB,cAAc,CAAC2B,aAAa,EAAE,CAACZ,SAAS,CAAEC,MAAM,IAAI;MACvD,IAAI,CAACY,UAAU,GAAGZ,MAAM;IAC1B,CAAC,CAAC;IACF;IACA;IACA;EACF;;EAEAa,eAAeA,CAACC,MAAc;IAC5B,IAAI,IAAI,CAACrB,oBAAoB,CAACsB,QAAQ,CAACD,MAAM,CAAC,EAAE;MAC9C,IAAI,CAACrB,oBAAoB,GAAG,IAAI,CAACA,oBAAoB,CAACuB,MAAM,CACzDC,IAAI,IAAKA,IAAI,KAAKH,MAAM,CAC1B;KACF,MAAM;MACL,IAAI,CAACrB,oBAAoB,CAACyB,IAAI,CAACJ,MAAM,CAAC;;IAExCZ,OAAO,CAACC,GAAG,CAAC,6BAA6B,EAAC,IAAI,CAACV,oBAAoB,CAAC;EAEtE;EAEA0B,MAAMA,CAAA;IACJ,IAAI,CAACjC,QAAQ,CAACkC,IAAI,EAAE;EACtB;EAEAC,UAAUA,CAAA;IACRnB,OAAO,CAACC,GAAG,CAAC,YAAY,EAAE,IAAI,CAACf,QAAQ,CAAC;IACxC;EACF;CACD;;AA3DYN,sBAAsB,GAAAwC,UAAA,EALlC1C,SAAS,CAAC;EACT2C,QAAQ,EAAE,oBAAoB;EAC9BC,WAAW,EAAE,iCAAiC;EAC9CC,SAAS,EAAE,CAAC,gCAAgC;CAC7C,CAAC,C,EACW3C,sBAAsB,CA2DlC;SA3DYA,sBAAsB"},"metadata":{},"sourceType":"module","externalDependencies":[]}